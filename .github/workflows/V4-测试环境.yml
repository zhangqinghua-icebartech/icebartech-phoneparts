name: V4-测试环境

# 触发条件：v4 分支提交就触发活动。
on:
  push:
    branches: v4

# 步骤流程：
jobs:
  job_1:
    name: 拉取代码
    runs-on: ubuntu-latest
    steps:
    - name: checkout @v4
      # 使用集成的脚本拉取 v4 代码。
      uses: actions/checkout@v2
      # 当有子模块时切换分支
      with:
        submodules: true

  job_2:
    name: 环境配置
    runs-on: ubuntu-latest
    needs: job_1
    steps:
    # 安装JDK1.8
    - name: Set up JDK 1.8
      uses: actions/setup-java@v1
      with:
        java-version: 1.8
    # Maven 打包
    - name: Build with Maven
      run: ls

#  job_3:
#    name: 构建项目
#    needs: job_2
#    steps:
#      -name: test  run
#      run: echo 'job_2 success!!!'
#  job_4:
#    name: 部署项目
#    needs: job_3
#    steps:
#      -name: test  run
#      run: echo 'job_2 success!!!'